<div class="modal-body">
	<div ng-if="missingIndicators.length">
		<legend translate="project.missing_mandatory_indicators"></legend>
		<ul>
			<li ng-repeat="indicator in missingIndicators">
				<a ng-click="choose(indicator._id)">{{indicator.name[language]}}</a>
			</li>
		</ul>
		<legend translate="project.other_indicators"></legend>
	</div>

	<legend ng-if="!missingIndicators.length" translate="shared.indicators"></legend>

	<div class="form-horizontal">
		<div class="form-group">
			<label for="search-input" class="col-sm-2" translate="indicator.search"></label>
			<div class="col-sm-10">
				<input id="search-input" type="text" ng-model="searchField" class="form-control input-sm" placeholder="{{'indicator.search_ph'|translate}}" />
			</div>
		</div>
	</div>

	<div ng-if="showAllIndicators || project.themes.length == 0">
		<div class="indicator-level-1" ng-repeat="theme in hierarchy|hierarchyFilter:searchField">
			<div class="indicator-header" ng-click="theme.open=!theme.open">
				<i fa-open="theme.open"></i>
				{{theme.name[language]||('indicator.no_theme'|translate)}}
				<span class="badge pull-right" ng-bind="theme.children.length"></span>
			</div>

			<div ng-include="'partials/projects/logframe/indicator-select-tree.html'"></div>
		</div>
	</div>

	<div ng-if="!showAllIndicators">
		<div ng-if="project.themes.length == 1">
			<div style="margin-left: -20px"
				ng-include="'partials/projects/logframe/indicator-select-tree.html'"
				ng-repeat="theme in hierarchy|hierarchyFilter:searchField"
				ng-if="theme._id === project.themes[0]"
 				ng-init="theme.open = true"></div>
		</div>

		<div ng-if="project.themes.length != 1">
			<div class="indicator-level-1" ng-repeat="theme in hierarchy|hierarchyFilter:searchField" ng-if="project.themes.indexOf(theme._id) !== -1">
				<div class="indicator-header" ng-click="theme.open=!theme.open">
					<i fa-open="theme.open"></i>
					{{theme.name[language]||('indicator.no_theme'|translate)}}
					<span class="badge pull-right" ng-bind="theme.children.length"></span>
				</div>

				<div ng-include="'partials/projects/logframe/indicator-select-tree.html'"></div>
			</div>
		</div>
	</div>

	<a ng-click="$parent.showAllIndicators=1" class="pull-right" ng-if="!showAllIndicators && project.themes.length !== 0">
		<i class="fa fa-eye"></i>
		<span translate="project.see_other_themes"></span>
	</a>

	<div style="clear: both"></div>
</div>

<div class="modal-footer">
	<button ng-click="cancel()" class="btn btn-default">
		<i class="fa fa-undo"></i>
		<span translate="shared.cancel">
	</button>
</div>
