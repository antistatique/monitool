<ol class="breadcrumb">
	<li><a ui-sref="main.projects" translate="shared.projects"></a></li>
	<li><a ui-sref="main.project.logical_frame()" ng-bind="project.name"></a></li>
	<li><a ui-sref="main.project.forms()" translate="project.input_forms"></a></li>
	<li><a ui-sref="main.project.form({form_id: form.id})" ng-bind="form.name"></a></li>
	<li class="active" translate="shared.reporting"></li>
</ol>

<div style="margin-bottom: 10px;" ng-if="form.collect === 'entity'">
	<div class="form-group">
		<label for="entity-input" class="col-sm-2 control-label" translate="shared.input_entity"></label>
		<div class="col-sm-10">
			<select id="entity-input" class="form-control" ng-model="$parent.entity" ng-options="entity.name for entity in project.inputEntities"></select>
		</div>
	</div>
	<div style="clear: both"></div>
</div>

<table class="table table-bordered table-condensed project-reporting " ng-if="stats">
	<thead>
		<tr>
			<th translate="project.variable" style="width: 20%"></th>
			<th ng-repeat="col in stats.cols" ng-bind="col"></th>
		</tr>
	</thead>
	<tbody>
		<tr ng-repeat="row in stats.rows track by row.id" ng-if="!row.parentId || open[row.parentId]">
 			<td class="section" ng-if="row.type === 'header'" colspan="{{1 + stats.cols.length}}" ng-bind="row.name"></td>
			<td ng-if="row.type !== 'header'"  ng-click="open[row.id] = !open[row.id]" ng-style="{'padding-left': 5 + row.indent * 30 + 'px'}">
				<i class="fa" ng-class="{'fa-plus-circle':!open[row.id],'fa-minus-circle':open[row.id]}" ng-if="row.hasChildren"></i>
				{{row.name}}
			</td>
			<td ng-repeat="col in row.cols track by $index" ng-bind="col"></td>
		</tr>
	</tbody>
</table>

