<!DOCTYPE html>
<html>
	<head>
		<title>Monitool</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<link rel="stylesheet" type="text/css" href="monitool2.css" />
	</head>
	<body>
		<div ui-view></div>
		
		<div id="load-container">
			<div id="load-content">
				<img src="/img/logo_color.svg">
				
				<div id="loader">
					<h3>Loading</h3>
					
					<div class="progress">
						<div id="progress" class="progress-bar progress-bar-info" style="width: 0"></div>
					</div>
				</div>
				
				<div id="login_buttons" style="display: none">
					<a href="/authentication/login" class="btn btn-primary btn-lg btn-block">Use MDM account</a>

					<form class="form-inline" style="margin-top: 5px" action="/authentication/login-partner" method="POST">
						<input type="text" class="form-control input-lg" name="username" placeholder="Username" style="width: 187px">
						<input type="password" class="form-control input-lg" name="password" placeholder="Password" style="width: 187px">
						<button class="btn btn-default btn-lg">Use partner account</button>
					</form>
				</div>

			</div>
		</div>

		<script type="text/javascript">
			var req = new XMLHttpRequest();

			req.addEventListener("progress", function(event) {
				var el = document.getElementById('progress')
				progress.style.width = 100 * event.loaded / 1459825 + '%'; 
			}, false);

			req.addEventListener("load", function(e) {
				// remove loading bar.
				var loader = document.getElementById('loader');
				loader.parentNode.removeChild(loader);

				// append main script to document.
				var s = document.createElement("script");
				s.innerHTML = e.target.responseText;
				document.documentElement.appendChild(s);
			}, false);

			req.open("GET", "monitool2.js");
			req.send();
		</script>
	</body>
</html>
